<div class="container mt-5 px-4 pb-4">

  <h5 class="post-title py-4 px-2"><%= @post.content %></h5>

  <% if @post.group_comments.any? %>
    <% @post.group_comments.each do |comment| %>
      <div class="card mb-3">
        <div class="card-body">
          <strong><%= comment.user.username %>:</strong> <%= comment.content %>
          <p><small><%= time_ago_in_words(comment.created_at) %> ago</small></p>
          <% if policy(comment).destroy? %>
            <%= link_to 'Delete',
                group_group_post_group_comment_path(@group, @post, comment),
                data: { turbo_method: :delete, turbo_confirm: 'Are you sure you want to delete this comment?' } %>
          <% end %>
        </div>
      </div>
    <% end %>
  <% else %>
    Be the first to reply!
  <% end %>

  <% if policy(@group).comment? %>
    <div class="mt-5">
      <h3>Reply:</h3>
      <%= form_with model: [@post, @comment], url: group_group_post_group_comments_path(@group, @post), method: :post, local: true do |form| %>
        <div class="form-group pb-2">
          <%= form.text_area :content, class: "form-control", rows: 3, placeholder: "Write something..." %>
        </div>
        <%= form.submit "Post", class: "btn btn-primary" %>
      <% end %>
    </div>
  <% end %>

</div>




<%# <div class="d-flex justify-content-between"> %>
            <%# <% if post.user == current_user %>
              <%# <%= link_to '<i class="fa-regular fa-trash-can"></i>'.html_safe, group_group_post_path(@group, post), method: :delete, data: { turbo: false, turbo_confirm: "Are you sure you want to delete this comment?"} %>
            <%# <% end %>
          <%# </div> %>
